<!DOCTYPE html><html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cyber-Aventure 2.0 ‚Äî Apprendre l'informatique avec Mr Rehoboth</title>
  <style>
    :root{--bg1:#0f172a;--card:#ffffff;--accent1:#6ee7b7;--accent2:#60a5fa;--muted:#94a3b8}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"Verdana","Segoe UI",sans-serif;background:linear-gradient(135deg,#0f172a 0%,#111827 60%);color:#0b1220}
    .app{max-width:980px;margin:20px auto;padding:18px}
    .card{background:var(--card);border-radius:14px;padding:18px;box-shadow:0 10px 30px rgba(2,6,23,0.45)}
    header.top{display:flex;gap:18px;align-items:center;margin-bottom:14px}
    .logo{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,var(--accent2),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;font-size:34px}
    h1{margin:0;font-size:1.35rem}
    p.lead{margin:4px 0 0;color:var(--muted)}/* Welcome screen */
.welcome{display:grid;grid-template-columns:1fr 300px;gap:18px;align-items:center}
.welcome .info{padding:12px}
.levels{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
.level-btn{padding:10px 14px;border-radius:10px;border:none;background:#f1f5f9;cursor:pointer;font-weight:600}
.start-row{display:flex;gap:10px;margin-top:14px}
.btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700}
.btn.primary{background:linear-gradient(90deg,var(--accent2),#7c3aed);color:white}
.btn.ghost{background:transparent;border:2px solid rgba(15,23,42,0.06)}

/* Game */
.meta{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:12px}
.chip{background:#eef2ff;padding:8px 12px;border-radius:999px;font-weight:700}

.progress{height:12px;background:#e6edf7;border-radius:999px;overflow:hidden;margin-top:12px}
.progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent2),var(--accent1));width:0}

.question-card{margin-top:18px;padding:16px;border-radius:12px;background:linear-gradient(180deg,#ffffff, #fbfdff)}
.question-text{font-weight:800;font-size:1.05rem;margin-bottom:12px}
.options{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
.opt{background:#f8fafc;border-radius:10px;padding:10px;border:2px solid transparent;cursor:pointer;font-weight:700}
.opt:hover{transform:translateY(-3px);transition:all .18s}
.opt.disabled{opacity:.6;cursor:not-allowed}
.opt.correct{background:#dcfce7;border-color:#34d399}
.opt.incorrect{background:#fee2e2;border-color:#f87171}

.feedback{margin-top:12px;padding:10px;border-radius:10px;font-weight:700}
.fb-correct{background:#ecfdf5;border:2px solid #34d399;color:#065f46}
.fb-wrong{background:#fff1f2;border:2px solid #fb7185;color:#7f1d1d}

footer.controls{display:flex;gap:10px;align-items:center;margin-top:14px}

/* Final */
.final{display:grid;gap:12px;place-items:center;padding:18px}
.leaderboard{margin-top:12px;width:100%}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;text-align:left;border-bottom:1px dashed #e6eef8}

@media(max-width:840px){
  .welcome{grid-template-columns:1fr}
  .logo{width:64px;height:64px}
}

  </style>
</head>
<body>
  <div class="app card" id="app">
    <header class="top">
      <div class="logo">üíª</div>
      <div>
        <h1>Cyber-Aventure 2.0</h1>
        <p class="lead">Apprends l'informatique avec Mr Rehoboth ‚Äî tous niveaux. Choisis un niveau et lance-toi !</p>
      </div>
    </header><!-- WELCOME / MENU -->
<section id="welcome" class="card welcome">
  <div class="info">
    <h2>Bienvenue, aventurier¬∑√®re du num√©rique üéØ</h2>
    <p>Choisis un niveau pour adapter les questions. Le jeu sauvegarde tes meilleurs scores localement.</p>

    <div class="levels">
      <button class="level-btn" data-level="beginner">D√©butant</button>
      <button class="level-btn" data-level="intermediate">Interm√©diaire</button>
      <button class="level-btn" data-level="expert">Expert</button>
      <button class="level-btn" data-level="random">Al√©atoire</button>
    </div>

    <div class="start-row">
      <button id="start-btn" class="btn primary">Commencer le jeu</button>
      <button id="how-btn" class="btn ghost">Comment jouer</button>
    </div>

    <div style="margin-top:12px;color:var(--muted);font-size:.92rem">Options : Sons activ√©s &nbsp;‚Ä¢&nbsp; Sauvegarde activ√©e</div>
  </div>

  <div>
    <div style="padding:12px;background:linear-gradient(180deg,#eef2ff,#f8fbff);border-radius:12px">
      <h3 style="margin:0 0 6px">Statistiques rapides</h3>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <div class="chip">Meilleur (D√©butant): <strong id="best-beginner">‚Äî</strong></div>
        <div class="chip">Meilleur (Interm): <strong id="best-inter">‚Äî</strong></div>
        <div class="chip">Meilleur (Expert): <strong id="best-expert">‚Äî</strong></div>
      </div>
      <p style="color:var(--muted);font-size:.9rem;margin-top:10px">Astuce : tu peux revenir ici et essayer d'am√©liorer ton score.</p>
    </div>
  </div>
</section>

<!-- GAME AREA (hidden initially) -->
<section id="game" class="card" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
    <div>
      <div style="font-size:.95rem;">Score: <strong id="score">0</strong></div>
      <div style="font-size:.85rem;color:var(--muted)">Niveau: <strong id="current-level">‚Äî</strong></div>
    </div>

    <div class="meta">
      <div class="chip">Q: <span id="qnum">0</span>/<span id="total">0</span></div>
      <div class="chip">Progression</div>
    </div>
  </div>

  <div class="progress" aria-hidden="true" style="margin-top:12px"><i id="bar"></i></div>

  <div class="question-card" id="question-card">
    <div class="question-text" id="question-text">Question‚Ä¶</div>
    <div class="options" id="options"></div>

    <div id="feedback" style="display:none" class="feedback"></div>

    <footer class="controls">
      <button id="next" class="btn primary" style="display:none">Question suivante</button>
      <button id="quit" class="btn ghost">Quitter</button>
    </footer>
  </div>
</section>

<!-- FINAL -->
<section id="final" class="card" style="display:none">
  <div class="final">
    <div style="font-size:3rem" id="final-emoji">üéâ</div>
    <h2 id="final-title">Bravo !</h2>
    <p id="final-msg">Tu as termin√© le quiz.</p>
    <div style="font-size:1.1rem">Ton score : <strong id="final-score">0</strong> / <span id="final-total">0</span></div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button id="replay" class="btn primary">Rejouer m√™me niveau</button>
      <button id="to-menu" class="btn ghost">Retour au menu</button>
    </div>

    <div class="leaderboard card" style="width:100%;max-width:640px;margin-top:12px">
      <h3 style="margin:8px 0">Meilleurs scores (local)</h3>
      <table>
        <thead><tr><th>Niveau</th><th>Score</th><th>Date</th></tr></thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </div>
  </div>
</section>

  </div>  <script>
    /* ---------- QUESTIONS (trois niveaux) ---------- */
    const POOLS = {
      beginner: [
        {q:"Qu'est-ce qu'un ordinateur ?", opts:["Une machine qui calcule et traite des informations","Un jouet","Un livre","Une voiture"], a:0},
        {q:"Que signifie 'cliquer' ?", opts:["Faire du bruit","Appuyer sur un bouton de la souris","Bouger la souris","√âteindre l'ordinateur"], a:1},
        {q:"Qu'est-ce qu'Internet ?", opts:["Un magasin","Un r√©seau qui connecte les ordinateurs du monde entier","Un jeu","Un livre"], a:1},
        {q:"Que fait un clavier ?", opts:["Il joue de la musique","Il permet d'√©crire des lettres et des chiffres","Il dessine","Il cuisine"], a:1},
        {q:"Qu'est-ce qu'un fichier ?", opts:["Un animal","Un endroit o√π on range des informations","Un jouet","Un fruit"], a:1},
        {q:"Que signifie 'sauvegarder' ?", opts:["Aider quelqu'un","Enregistrer son travail","Courir vite","Manger"], a:1},
        {q:"Qu'est-ce qu'un mot de passe ?", opts:["Un mot magique","Un code secret","Un jeu de mots","Une chanson"], a:1},
        {q:"Que fait un √©cran ?", opts:["Il mange","Il montre les images et les textes","Il vole","Il nage"], a:1}
      ],

      intermediate: [
        {q:"Quelle est la diff√©rence entre 'sauvegarder' et 'synchroniser' ?", opts:["Aucune","Sauvegarder enregistre localement, synchroniser met √† jour sur plusieurs appareils","Synchroniser supprime les donn√©es","Sauvegarder partage automatiquement"], a:1},
        {q:"Que signifie 'navigateur' ?", opts:["Un type de souris","Un logiciel pour consulter Internet","Une cl√© USB","Un antivirus"], a:1},
        {q:"Que fait un antivirus ?", opts:["Ralentit l'ordinateur","Prot√®ge contre les logiciels malveillants","Supprime les photos","D√©sinstalle des programmes"], a:1},
        {q:"Qu'est-ce qu'un cookie (informatique) ?", opts:["Un biscuit","Un petit fichier stock√© par un site web","Un virus","Un composant mat√©riel"], a:1},
        {q:"Quel format est utilis√© pour une image compress√©e sans perte ?", opts:["JPEG","PNG","MP3","EXE"], a:1},
        {q:"Que fait la touche 'Ctrl + C' ?", opts:["Fermer la fen√™tre","Copier la s√©lection","Coller","Imprimer"], a:1},
        {q:"Qu'est-ce qu'un r√©seau Wi‚ÄëFi ?", opts:["Une carte m√®re","Un r√©seau sans fil","Un c√¢ble","Un logiciel"], a:1},
        {q:"Quel √©l√©ment est un p√©riph√©rique de stockage ?", opts:["√âcran","Souris","Cl√© USB","Haut-parleur"], a:2}
      ],

      expert: [
        {q:"Qu'est-ce qu'un 'pare-feu' (firewall) ?", opts:["Un mur physique","Un dispositif r√©seau filtrant le trafic","Un type de virus","Un navigateur"], a:1},
        {q:"Que signifie 'open source' ?", opts:["Payant","Code source accessible et modifiable","Priv√©","Incompatible"], a:1},
        {q:"Qu'est-ce qu'un 'phishing' ?", opts:["Une attaque de p√™che","Une tentative d'obtenir des informations en se faisant passer pour quelqu'un","Un protocole r√©seau","Un langage de programmation"], a:1},
        {q:"Que fait une sauvegarde incr√©mentale ?", opts:["Sauvegarde tout √† z√©ro","Sauvegarde seulement les changements depuis la derni√®re sauvegarde","Supprime les sauvegardes","Crypte automatiquement"], a:1},
        {q:"Quel protocole utilise le web s√©curis√© (HTTPS) ?", opts:["FTP","HTTP sur TLS/SSL","SMTP","POP3"], a:1},
        {q:"Que signifie 'latence' en r√©seau ?", opts:["Taille d'un fichier","D√©lai de transmission des paquets","Vitesse du processeur","Capacit√© du disque"], a:1},
        {q:"Quel composant g√®re l'ex√©cution des programmes ?", opts:["RAM","Carte graphique","Processeur (CPU)","Disque dur"], a:2},
        {q:"Qu'est-ce qu'une adresse IP ?", opts:["Un identifiant unique d'un appareil sur un r√©seau","Un mot de passe","Un logiciel","Un r√©seau"], a:0}
      ]
    };

    /* ---------- UTIL & STATE ---------- */
    let state = {level:'beginner',pool:[],index:0,score:0,total:8,answered:false};

    // UI refs
    const WELCOME=document.getElementById('welcome');
    const GAME=document.getElementById('game');
    const FINAL=document.getElementById('final');
    const startBtn=document.getElementById('start-btn');
    const howBtn=document.getElementById('how-btn');
    const levelBtns=document.querySelectorAll('.level-btn');
    const qTxt=document.getElementById('question-text');
    const optsDiv=document.getElementById('options');
    const scoreEl=document.getElementById('score');
    const qNum=document.getElementById('qnum');
    const totalEl=document.getElementById('total');
    const bar=document.getElementById('bar');
    const nextBtn=document.getElementById('next');
    const quitBtn=document.getElementById('quit');
    const currentLevelEl=document.getElementById('current-level');
    const feedback=document.getElementById('feedback');

    // final
    const finalScore=document.getElementById('final-score');
    const finalTotal=document.getElementById('final-total');
    const finalTitle=document.getElementById('final-title');
    const finalMsg=document.getElementById('final-msg');
    const finalEmoji=document.getElementById('final-emoji');
    const replayBtn=document.getElementById('replay');
    const toMenuBtn=document.getElementById('to-menu');
    const lbBody=document.getElementById('leaderboard-body');

    // stats in welcome
    const bestBegin=document.getElementById('best-beginner');
    const bestInter=document.getElementById('best-inter');
    const bestExpert=document.getElementById('best-expert');

    /* ---------- AUDIO: WebAudio simple tones ---------- */
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function tone(freq,duration=0.12){
      try{
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type='sine';o.frequency.value=freq;g.gain.value=0.08;
        o.connect(g);g.connect(audioCtx.destination);
        o.start();
        setTimeout(()=>{o.stop();}, duration*1000);
      }catch(e){/* audio bloqu√© parfois sur mobile */}
    }

    function playCorrect(){ tone(880,0.12); tone(1320,0.07); }
    function playWrong(){ tone(220,0.18); }

    /* ---------- STORAGE ---------- */
    function saveBest(level,score){
      const key='cyber_best_'+level; const prev = localStorage.getItem(key);
      if(!prev || score>parseInt(prev)) localStorage.setItem(key,String(score));
    }
    function loadBests(){
      bestBegin.textContent = localStorage.getItem('cyber_best_beginner')||'‚Äî';
      bestInter.textContent = localStorage.getItem('cyber_best_intermediate')||'‚Äî';
      bestExpert.textContent = localStorage.getItem('cyber_best_expert')||'‚Äî';
    }

    function saveToLeaderboard(level,score){
      const key='cyber_leaderboard';
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      arr.push({level,score,date:new Date().toLocaleString()});
      // keep only last 20
      localStorage.setItem(key,JSON.stringify(arr.slice(-20)));
    }
    function renderLeaderboard(){
      const arr = JSON.parse(localStorage.getItem('cyber_leaderboard')||'[]').slice().reverse();
      lbBody.innerHTML='';
      arr.forEach(r=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${r.level}</td><td>${r.score}</td><td>${r.date}</td>`; lbBody.appendChild(tr)});
    }

    /* ---------- GAME FLOW ---------- */
    function chooseLevel(l){ state.level=l; document.querySelectorAll('.level-btn').forEach(b=>b.style.outline='');
      document.querySelector(`.level-btn[data-level="${l}"]`).style.outline='3px solid rgba(79,70,229,0.18)';
    }

    // default level
    chooseLevel('beginner'); loadBests(); renderLeaderboard();

    levelBtns.forEach(b=>b.addEventListener('click',()=>{ chooseLevel(b.dataset.level); }));

    howBtn.addEventListener('click',()=>{
      alert('R√®gles : Choisis le niveau, puis r√©ponds aux questions. Un son confirme les bonnes/mauvaises r√©ponses. Ton meilleur score sera enregistr√© localement.');
    });

    startBtn.addEventListener('click',()=>{
      startGame(state.level);
    });

    function startGame(level){
      // assemble pool
      let pool = [];
      if(level==='random'){ pool = [...POOLS.beginner, ...POOLS.intermediate, ...POOLS.expert]; }
      else pool = [...POOLS[level]];

      // shuffle
      pool = pool.sort(()=>Math.random()-0.5).slice(0,8);
      state.pool=pool; state.index=0; state.score=0; state.total=pool.length; state.answered=false; state.level=level==='random'? 'Al√©atoire' : level;

      // UI
      WELCOME.style.display='none'; GAME.style.display='block'; FINAL.style.display='none';
      scoreEl.textContent='0'; currentLevelEl.textContent = capitalize(state.level);
      totalEl.textContent=state.total; qNum.textContent='0'; updateProgress(); renderQuestion();
    }

    function capitalize(s){ if(!s) return s; return s.charAt(0).toUpperCase()+s.slice(1); }

    function renderQuestion(){
      const idx = state.index; const item = state.pool[idx];
      qTxt.textContent = item.q; optsDiv.innerHTML=''; feedback.style.display='none'; nextBtn.style.display='none';
      qNum.textContent = idx+1; totalEl.textContent = state.total;

      item.opts.forEach((o,i)=>{
        const b = document.createElement('div'); b.className='opt'; b.textContent=o; b.tabIndex=0;
        b.onclick = ()=>select(i); b.onkeyup = (e)=>{ if(e.key==='Enter') select(i); };
        optsDiv.appendChild(b);
      });
      updateProgress();
    }

    function select(i){ if(state.answered) return; state.answered=true; const item=state.pool[state.index];
      const buttons = Array.from(document.querySelectorAll('.opt'));
      buttons.forEach((btn,idx)=>{ btn.classList.add('disabled'); if(idx===item.a) btn.classList.add('correct'); if(idx===i && i!==item.a) btn.classList.add('incorrect'); });

      if(i===item.a){ state.score++; scoreEl.textContent=state.score; feedback.className='feedback fb-correct'; feedback.textContent='Bonne r√©ponse !'; playCorrect(); }
      else{ feedback.className='feedback fb-wrong'; feedback.textContent=`Mauvaise r√©ponse ‚Äî la bonne r√©ponse √©tait : "${item.opts[item.a]}".`; playWrong(); }
      feedback.style.display='block'; nextBtn.style.display='inline-block';
    }

    nextBtn.addEventListener('click',()=>{
      state.index++;
      state.answered=false;
      if(state.index>=state.total) finishGame(); else renderQuestion();
    });

    quitBtn.addEventListener('click',()=>{ if(confirm('Quitter le quiz et retourner au menu ?')){ GAME.style.display='none'; WELCOME.style.display='block'; loadBests(); renderLeaderboard(); } });

    function updateProgress(){ const pct = Math.round((state.index/state.total)*100)||0; bar.style.width = pct+'%'; }

    function finishGame(){
      GAME.style.display='none'; FINAL.style.display='block';
      finalScore.textContent = state.score; finalTotal.textContent = state.total;
      let title='Bravo !'; let msg='Tu as termin√© le quiz.'; let emoji='üéâ';
      if(state.score>= Math.ceil(state.total*0.85)) { title='Incroyable ‚Äî Expert !'; emoji='üèÜ'; }
      else if(state.score>= Math.ceil(state.total*0.6)) { title='Bien jou√© !'; emoji='üëè'; }
      else { title='Continue ‚Äî tu progresses !'; emoji='üí™'; }
      finalTitle.textContent=title; finalMsg.textContent=msg; finalEmoji.textContent=emoji;

      // save bests if applicable
      const lvlKey = (state.level||'beginner').toLowerCase();
      if(['beginner','intermediate','expert'].includes(lvlKey)) saveBest(lvlKey,state.score);
      saveToLeaderboard(state.level, state.score);
      loadBests(); renderLeaderboard();
    }

    replayBtn.addEventListener('click',()=>{ startGame(state.level==='Al√©atoire'? 'random' : state.level); });
    toMenuBtn.addEventListener('click',()=>{ FINAL.style.display='none'; WELCOME.style.display='block'; loadBests(); renderLeaderboard(); });

    // small helpers: allow keyboard navigation for options
    document.addEventListener('keydown',(e)=>{
      if(GAME.style.display==='block' && !state.answered){
        const opts = document.querySelectorAll('.opt'); if(!opts.length) return;
        if(e.key>='1' && e.key<='9'){ const idx = parseInt(e.key)-1; if(idx<opts.length) opts[idx].click(); }
      }
    });

    // initial UI
    loadBests(); renderLeaderboard();
  </script></body>
        </html>    .question-text{font-weight:800;font-size:1.05rem;margin-bottom:12px}
    .options{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
    .opt{background:#f8fafc;border-radius:10px;padding:10px;border:2px solid transparent;cursor:pointer;font-weight:700}
    .opt:hover{transform:translateY(-3px);transition:all .18s}
    .opt:focus{outline:2px solid var(--accent2);outline-offset:2px}
    .opt.disabled{opacity:.6;cursor:not-allowed}
    .opt.correct{background:#dcfce7;border-color:#34d399}
    .opt.incorrect{background:#fee2e2;border-color:#f87171}

    .feedback{margin-top:12px;padding:10px;border-radius:10px;font-weight:700}
    .fb-correct{background:#ecfdf5;border:2px solid #34d399;color:#065f46}
    .fb-wrong{background:#fff1f2;border:2px solid #fb7185;color:#7f1d1d}

    footer.controls{display:flex;gap:10px;align-items:center;margin-top:14px}

    /* Final */
    .final{display:grid;gap:12px;place-items:center;padding:18px}
    .leaderboard{margin-top:12px;width:100%}
    table{width:100%;border-collapse:collapse}
    th,td{padding:8px;text-align:left;border-bottom:1px dashed #e6eef8}

    /* Marketing sections */
    .cta-section{padding:15px; border-radius:10px; margin:20px 0}
    .formations-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:10px;font-size:0.85rem;margin-top:10px}
    .formation-card{padding:10px; background:white; border-radius:6px; border-left:3px solid var(--accent2)}

    .social-links{display:flex;gap:10px;justify-content:center;margin-top:10px}

    @media(max-width:840px){
      .welcome{grid-template-columns:1fr}
      .logo{width:64px;height:64px}
      .formations-grid{grid-template-columns:1fr}
    }

  </style>
</head>
<body>
  <div class="app card" id="app">
    <header class="top">
      <div class="logo">üíª</div>
      <div>
        <h1>Cyber-Aventure 2.0</h1>
        <p class="lead">Formation bureautique & informatique avec <strong>Mr Rehoboth</strong> ‚Äî De d√©butant √† expert</p>
      </div>
    </header>

    <!-- WELCOME / MENU -->
    <section id="welcome" class="card welcome">
      <div class="info">
        <h2>Bienvenue, aventurier¬∑√®re du num√©rique üéØ</h2>
        <p>Testez vos comp√©tences et d√©couvrez nos formations en bureautique et informatique. Le jeu sauvegarde tes meilleurs scores localement.</p>

        <div class="levels">
          <button class="level-btn" data-level="beginner">D√©butant</button>
          <button class="level-btn" data-level="intermediate">Interm√©diaire</button>
          <button class="level-btn" data-level="expert">Expert</button>
          <button class="level-btn" data-level="random">Al√©atoire</button>
        </div>

        <div class="start-row">
          <button id="start-btn" class="btn primary">Commencer le jeu</button>
          <button id="how-btn" class="btn ghost">Comment jouer</button>
        </div>

        <!-- Section Formations -->
        <div class="cta-section" style="background:#f8fafc">
          <h4 style="margin:0 0 10px 0">üìö Nos Formations Mr Rehoboth</h4>
          <div class="formations-grid">
            <div class="formation-card">
              <strong>Bureautique Compl√®te</strong><br>Word, Excel, PowerPoint
            </div>
            <div class="formation-card">
              <strong>Informatique Base</strong><br>Navigation, S√©curit√©, Maintenance
            </div>
            <div class="formation-card">
              <strong>Expert Digital</strong><br>R√©seaux, Programmation base
            </div>
          </div>
        </div>

        <!-- CTA Principal -->
        <div class="cta-section" style="background:linear-gradient(135deg,#f0f9ff,#e0f2fe); border-left:4px solid var(--accent2)">
          <h4 style="margin:0 0 8px 0">üöÄ Pr√™t pour une vraie formation ?</h4>
          <p style="margin:0 0 12px 0; font-size:0.9rem">Rejoignez nos formations certifiantes en bureautique et informatique</p>
          <button id="inscription-btn" class="btn cta">S'inscrire √† une formation</button>
        </div>

        <div style="margin-top:12px;color:var(--muted);font-size:.92rem">Options : Sons activ√©s &nbsp;‚Ä¢&nbsp; Sauvegarde activ√©e</div>
      </div>

      <div>
        <div style="padding:12px;background:linear-gradient(180deg,#eef2ff,#f8fbff);border-radius:12px">
          <h3 style="margin:0 0 6px">Statistiques rapides</h3>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <div class="chip">Meilleur (D√©butant): <strong id="best-beginner">‚Äî</strong></div>
            <div class="chip">Meilleur (Interm): <strong id="best-inter">‚Äî</strong></div>
            <div class="chip">Meilleur (Expert): <strong id="best-expert">‚Äî</strong></div>
          </div>
          <p style="color:var(--muted);font-size:.9rem;margin-top:10px">Astuce : testez vos comp√©tences puis inscrivez-vous pour les perfectionner !</p>
        </div>

        <!-- T√©moignages -->
        <div style="margin-top:20px; padding:12px; background:#f0fdf4; border-radius:12px; border:1px solid #bbf7d0">
          <h4 style="margin:0 0 8px 0">üí¨ T√©moignages</h4>
          <div style="font-size:0.85rem">
            <p><em>"Formation Excel exceptionnelle ! J'ai doubl√© ma productivit√©."</em><br>- Marie L.</p>
            <p><em>"Mr Rehoboth rend l'informatique accessible √† tous."</em><br>- Thomas P.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- GAME AREA (hidden initially) -->
    <section id="game" class="card" style="display:none">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
        <div>
          <div style="font-size:.95rem;">Score: <strong id="score">0</strong></div>
          <div style="font-size:.85rem;color:var(--muted)">Niveau: <strong id="current-level">‚Äî</strong></div>
        </div>

        <div class="meta">
          <div class="chip">Q: <span id="qnum">0</span>/<span id="total">0</span></div>
          <div class="chip">Progression</div>
        </div>
      </div>

      <div class="progress" aria-hidden="true" style="margin-top:12px"><i id="bar"></i></div>

      <div class="question-card" id="question-card">
        <div class="question-text" id="question-text">Question‚Ä¶</div>
        <div class="options" id="options"></div>

        <div id="feedback" style="display:none" class="feedback"></div>

        <footer class="controls">
          <button id="next" class="btn primary" style="display:none">Question suivante</button>
          <button id="quit" class="btn ghost">Quitter</button>
        </footer>
      </div>
    </section>

    <!-- FINAL -->
    <section id="final" class="card" style="display:none">
      <div class="final">
        <div style="font-size:3rem" id="final-emoji">üéâ</div>
        <h2 id="final-title">Bravo !</h2>
        <p id="final-msg">Tu as termin√© le quiz.</p>
        <div style="font-size:1.1rem">Ton score : <strong id="final-score">0</strong> / <span id="final-total">0</span></div>
        
        <!-- CTA Certification -->
        <div id="certification-cta" style="display:none; margin-top:20px; padding:15px; background:#f0fdf4; border-radius:10px; border:2px solid #bbf7d0; max-width:500px; width:100%">
          <h4 style="margin:0 0 8px 0; text-align:center">üíº Certification Mr Rehoboth</h4>
          <p style="margin:0 0 12px 0; font-size:0.9rem; text-align:center">Obtenez une certification reconnue en bureautique et informatique</p>
          <div style="display:flex; gap:8px; justify-content:center">
            <button id="certification-btn" class="btn primary">D√©couvrir les certifications</button>
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:12px">
          <button id="replay" class="btn primary">Rejouer m√™me niveau</button>
          <button id="to-menu" class="btn ghost">Retour au menu</button>
        </div>

        <!-- R√©seaux sociaux -->
        <div style="margin-top:20px; text-align:center">
          <p style="font-size:0.9rem; color:var(--muted)">Suivez Mr Rehoboth pour plus de contenu :</p>
          <div class="social-links">
            <button onclick="trackAction('social_click', 'facebook')" class="btn ghost" style="padding:6px 12px">üìò Facebook</button>
            <button onclick="trackAction('social_click', 'linkedin')" class="btn ghost" style="padding:6px 12px">üíº LinkedIn</button>
            <button onclick="trackAction('social_click', 'website')" class="btn ghost" style="padding:6px 12px">üåê Site Web</button>
          </div>
        </div>

        <div class="leaderboard card" style="width:100%;max-width:640px;margin-top:12px">
          <h3 style="margin:8px 0">Meilleurs scores (local)</h3>
          <table>
            <thead><tr><th>Niveau</th><th>Score</th><th>Date</th></tr></thead>
            <tbody id="leaderboard-body"></tbody>
          </table>
        </div>
      </div>
    </section>

  </div>

  <script>
    /* ---------- QUESTIONS (20 questions par niveau) ---------- */
    const POOLS = {
      beginner: [
        {q:"Qu'est-ce qu'un ordinateur ?", opts:["Une machine qui calcule et traite des informations","Un jouet","Un livre","Une voiture"], a:0},
        {q:"Que signifie 'cliquer' ?", opts:["Faire du bruit","Appuyer sur un bouton de la souris","Bouger la souris","√âteindre l'ordinateur"], a:1},
        {q:"Qu'est-ce qu'Internet ?", opts:["Un magasin","Un r√©seau qui connecte les ordinateurs du monde entier","Un jeu","Un livre"], a:1},
        {q:"Que fait un clavier ?", opts:["Il joue de la musique","Il permet d'√©crire des lettres et des chiffres","Il dessine","Il cuisine"], a:1},
        {q:"Qu'est-ce qu'un fichier ?", opts:["Un animal","Un endroit o√π on range des informations","Un jouet","Un fruit"], a:1},
        {q:"Que signifie 'sauvegarder' ?", opts:["Aider quelqu'un","Enregistrer son travail","Courir vite","Manger"], a:1},
        {q:"Qu'est-ce qu'un mot de passe ?", opts:["Un mot magique","Un code secret","Un jeu de mots","Une chanson"], a:1},
        {q:"Que fait un √©cran ?", opts:["Il mange","Il montre les images et les textes","Il vole","Il nage"], a:1},
        {q:"Comment s'appelle le 'cerveau' de l'ordinateur ?", opts:["L'√©cran","Le processeur (CPU)","Le clavier","La souris"], a:1},
        {q:"Que signifie 'imprimer' ?", opts:["Crier fort","Produire une copie papier d'un document","Dessiner √† la main","Photographier"], a:1},
        {q:"Qu'est-ce qu'une ic√¥ne ?", opts:["Une image religieuse","Une petite image qui repr√©sente un programme ou un fichier","Un type de police","Un virus"], a:1},
        {q:"Comment s'appelle le programme pour naviguer sur Internet ?", opts:["Un navigateur","Un conducteur","Un pilote","Un explorateur"], a:0},
        {q:"Que fait la corbeille ?", opts:["Elle nettoie la maison","Elle stocke les fichiers supprim√©s","Elle acc√©l√®re l'ordinateur","Elle imprime"], a:1},
        {q:"Qu'est-ce qu'un dossier ?", opts:["Un objet en papier","Un conteneur pour ranger des fichiers","Un type de meuble","Un v√™tement"], a:1},
        {q:"Comment appelle-t-on le fait de red√©marrer l'ordinateur ?", opts:["Le recycler","Le r√©initialiser","Le red√©marrer","Le r√©parer"], a:2},
        {q:"Que signifie 'glisser-d√©poser' ?", opts:["Nettoyer l'√©cran","D√©placer un √©l√©ment en maintenant le bouton de la souris","Jeter quelque chose","Dessiner"], a:1},
        {q:"Qu'est-ce qu'un email ?", opts:["Un courrier postal","Un message √©lectronique","Un appel t√©l√©phonique","Une vid√©o"], a:1},
        {q:"Comment s'appelle la barre en bas de l'√©cran Windows ?", opts:["Barre des t√¢ches","Barre de menu","Barre de titre","Barre d'outils"], a:0},
        {q:"Que fait le bouton 'Annuler' ?", opts:["Efface tout","Annule la derni√®re action","Ferme le programme","Imprime"], a:1},
        {q:"Qu'est-ce qu'un logiciel ?", opts:["Un v√™tement confortable","Un programme informatique","Un type de meuble","Un outil physique"], a:1}
      ],

      intermediate: [
        {q:"Quelle est la diff√©rence entre 'sauvegarder' et 'synchroniser' ?", opts:["Aucune","Sauvegarder enregistre localement, synchroniser met √† jour sur plusieurs appareils","Synchroniser supprime les donn√©es","Sauvegarder partage automatiquement"], a:1},
        {q:"Que signifie 'navigateur' ?", opts:["Un type de souris","Un logiciel pour consulter Internet","Une cl√© USB","Un antivirus"], a:1},
        {q:"Que fait un antivirus ?", opts:["Ralentit l'ordinateur","Prot√®ge contre les logiciels malveillants","Supprime les photos","D√©sinstalle des programmes"], a:1},
        {q:"Qu'est-ce qu'un cookie (informatique) ?", opts:["Un biscuit","Un petit fichier stock√© par un site web","Un virus","Un composant mat√©riel"], a:1},
        {q:"Quel format est utilis√© pour une image compress√©e sans perte ?", opts:["JPEG","PNG","MP3","EXE"], a:1},
        {q:"Que fait la touche 'Ctrl + C' ?", opts:["Fermer la fen√™tre","Copier la s√©lection","Coller","Imprimer"], a:1},
        {q:"Qu'est-ce qu'un r√©seau Wi‚ÄëFi ?", opts:["Une carte m√®re","Un r√©seau sans fil","Un c√¢ble","Un logiciel"], a:1},
        {q:"Quel √©l√©ment est un p√©riph√©rique de stockage ?", opts:["√âcran","Souris","Cl√© USB","Haut-parleur"], a:2},
        {q:"Que signifie 'URL' ?", opts:["Uniform Resource Locator - Adresse web","Universal Remote Link","United Radio Location","Unified Resource Library"], a:0},
        {q:"Qu'est-ce que le cloud computing ?", opts:["M√©t√©orologie informatique","Utilisation de services informatiques via Internet","Stockage sur CD","Programmation nuageuse"], a:1},
        {q:"Que fait un syst√®me d'exploitation ?", opts:["Explose l'ordinateur","G√®re les ressources et ex√©cute les programmes","Imprime des documents","Navigue sur Internet"], a:1},
        {q:"Quelle est la diff√©rence entre RAM et disque dur ?", opts:["Aucune diff√©rence","RAM m√©moire temporaire, disque dur stockage permanent","RAM plus lent","Disque dur plus rapide"], a:1},
        {q:"Que signifie 'SEO' ?", opts:["Search Engine Optimization - Optimisation pour les moteurs de recherche","System Electronic Operation","Software Efficiency Option","Secure Email Organization"], a:0},
        {q:"Qu'est-ce qu'un phishing ?", opts:["Un sport","Une tentative d'hame√ßonnage pour voler des informations","Un type de virus","Un logiciel l√©gitime"], a:1},
        {q:"Que fait un pare-feu (firewall) ?", opts:["Allume un feu","Filtre le trafic r√©seau","Chauffe l'ordinateur","Nettoie les virus"], a:1},
        {q:"Qu'est-ce qu'un logiciel open source ?", opts:["Logiciel payant","Logiciel dont le code source est public et modifiable","Logiciel ferm√©","Logiciel espion"], a:1},
        {q:"Que signifie 'HTML' ?", opts:["HyperText Markup Language","High Tech Modern Language","Hardware Text Management Line","Hyper Transfer Media Link"], a:0},
        {q:"Quelle est la fonction principale d'un tableur comme Excel ?", opts:["Dessiner","Manipuler et analyser des donn√©es num√©riques","Naviguer sur Internet","√âditer des photos"], a:1},
        {q:"Que fait la fonction 'Recherche et remplacement' ?", opts:["Acheter en ligne","Trouver et modifier du texte automatiquement","Rechercher des fichiers","Remplacer du mat√©riel"], a:1},
        {q:"Qu'est-ce qu'une macro dans Excel ?", opts:["Un gros fichier","Une s√©quence d'instructions automatis√©e","Un type de graphique","Une formule complexe"], a:1}
      ],

      expert: [
        {q:"Qu'est-ce qu'un 'pare-feu' (firewall) ?", opts:["Un mur physique","Un dispositif r√©seau filtrant le trafic","Un type de virus","Un navigateur"], a:1},
        {q:"Que signifie 'open source' ?", opts:["Payant","Code source accessible et modifiable","Priv√©","Incompatible"], a:1},
        {q:"Qu'est-ce qu'un 'phishing' ?", opts:["Une attaque de p√™che","Une tentative d'obtenir des informations en se faisant passer pour quelqu'un","Un protocole r√©seau","Un langage de programmation"], a:1},
        {q:"Que fait une sauvegarde incr√©mentale ?", opts:["Sauvegarde tout √† z√©ro","Sauvegarde seulement les changements depuis la derni√®re sauvegarde","Supprime les sauvegardes","Crypte automatiquement"], a:1},
        {q:"Quel protocole utilise le web s√©curis√© (HTTPS) ?", opts:["FTP","HTTP sur TLS/SSL","SMTP","POP3"], a:1},
        {q:"Que signifie 'latence' en r√©seau ?", opts:["Taille d'un fichier","D√©lai de transmission des paquets","Vitesse du processeur","Capacit√© du disque"], a:1},
        {q:"Quel composant g√®re l'ex√©cution des programmes ?", opts:["RAM","Carte graphique","Processeur (CPU)","Disque dur"], a:2},
        {q:"Qu'est-ce qu'une adresse IP ?", opts:["Un identifiant unique d'un appareil sur un r√©seau","Un mot de passe","Un logiciel","Un r√©seau"], a:0},
        {q:"Que signifie 'virtualisation' ?", opts:["Rendre r√©el","Cr√©er des versions virtuelles de ressources mat√©rielles","Supprimer des fichiers","Optimiser le r√©seau"], a:1},
        {q:"Qu'est-ce qu'un container Docker ?", opts:["Un conteneur maritime","Une unit√© logicielle standardis√©e et isol√©e","Un type de virus","Un p√©riph√©rique de stockage"], a:1},
        {q:"Que fait l'API REST ?", opts:["Se reposer","Permettre la communication entre applications via HTTP","Stocker des donn√©es","Compresser des fichiers"], a:1},
        {q:"Qu'est-ce que le machine learning ?", opts:["Apprentissage des machines √† r√©parer","Sous-domaine de l'IA permettant aux syst√®mes d'apprendre","Programmation manuelle","Maintenance informatique"], a:1},
        {q:"Que signifie 'DevOps' ?", opts:["Development Operations - Collaboration entre d√©veloppement et exploitation","Device Optimization","Digital Operations","Developer Options"], a:0},
        {q:"Qu'est-ce qu'un microservice ?", opts:["Un petit logiciel","Une architecture o√π une application est un ensemble de petits services","Un virus miniature","Un service pa.opt.disabled{opacity:.6;cursor:not-allowed}
.opt.correct{background:#dcfce7;border-color:#34d399}
.opt.incorrect{background:#fee2e2;border-color:#f87171}

.feedback{margin-top:12px;padding:10px;border-radius:10px;font-weight:700}
.fb-correct{background:#ecfdf5;border:2px solid #34d399;color:#065f46}
.fb-wrong{background:#fff1f2;border:2px solid #fb7185;color:#7f1d1d}

footer.controls{display:flex;gap:10px;align-items:center;margin-top:14px}

/* Final */
.final{display:grid;gap:12px;place-items:center;padding:18px}
.leaderboard{margin-top:12px;width:100%}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;text-align:left;border-bottom:1px dashed #e6eef8}

@media(max-width:840px){
  .welcome{grid-template-columns:1fr}
  .logo{width:64px;height:64px}
}

  </style>
</head>
<body>
  <div class="app card" id="app">
    <header class="top">
      <div class="logo">üíª</div>
      <div>
        <h1>Cyber-Aventure 2.0</h1>
        <p class="lead">Apprends l'informatique avec Mr Rehoboth ‚Äî tous niveaux. Choisis un niveau et lance-toi !</p>
      </div>
    </header><!-- WELCOME / MENU -->
<section id="welcome" class="card welcome">
  <div class="info">
    <h2>Bienvenue, aventurier¬∑√®re du num√©rique üéØ</h2>
    <p>Choisis un niveau pour adapter les questions. Le jeu sauvegarde tes meilleurs scores localement.</p>

    <div class="levels">
      <button class="level-btn" data-level="beginner">D√©butant</button>
      <button class="level-btn" data-level="intermediate">Interm√©diaire</button>
      <button class="level-btn" data-level="expert">Expert</button>
      <button class="level-btn" data-level="random">Al√©atoire</button>
    </div>

    <div class="start-row">
      <button id="start-btn" class="btn primary">Commencer le jeu</button>
      <button id="how-btn" class="btn ghost">Comment jouer</button>
    </div>

    <div style="margin-top:12px;color:var(--muted);font-size:.92rem">Options : Sons activ√©s &nbsp;‚Ä¢&nbsp; Sauvegarde activ√©e</div>
  </div>

  <div>
    <div style="padding:12px;background:linear-gradient(180deg,#eef2ff,#f8fbff);border-radius:12px">
      <h3 style="margin:0 0 6px">Statistiques rapides</h3>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <div class="chip">Meilleur (D√©butant): <strong id="best-beginner">‚Äî</strong></div>
        <div class="chip">Meilleur (Interm): <strong id="best-inter">‚Äî</strong></div>
        <div class="chip">Meilleur (Expert): <strong id="best-expert">‚Äî</strong></div>
      </div>
      <p style="color:var(--muted);font-size:.9rem;margin-top:10px">Astuce : tu peux revenir ici et essayer d'am√©liorer ton score.</p>
    </div>
  </div>
</section>

<!-- GAME AREA (hidden initially) -->
<section id="game" class="card" style="display:none">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
    <div>
      <div style="font-size:.95rem;">Score: <strong id="score">0</strong></div>
      <div style="font-size:.85rem;color:var(--muted)">Niveau: <strong id="current-level">‚Äî</strong></div>
    </div>

    <div class="meta">
      <div class="chip">Q: <span id="qnum">0</span>/<span id="total">0</span></div>
      <div class="chip">Progression</div>
    </div>
  </div>

  <div class="progress" aria-hidden="true" style="margin-top:12px"><i id="bar"></i></div>

  <div class="question-card" id="question-card">
    <div class="question-text" id="question-text">Question‚Ä¶</div>
    <div class="options" id="options"></div>

    <div id="feedback" style="display:none" class="feedback"></div>

    <footer class="controls">
      <button id="next" class="btn primary" style="display:none">Question suivante</button>
      <button id="quit" class="btn ghost">Quitter</button>
    </footer>
  </div>
</section>

<!-- FINAL -->
<section id="final" class="card" style="display:none">
  <div class="final">
    <div style="font-size:3rem" id="final-emoji">üéâ</div>
    <h2 id="final-title">Bravo !</h2>
    <p id="final-msg">Tu as termin√© le quiz.</p>
    <div style="font-size:1.1rem">Ton score : <strong id="final-score">0</strong> / <span id="final-total">0</span></div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button id="replay" class="btn primary">Rejouer m√™me niveau</button>
      <button id="to-menu" class="btn ghost">Retour au menu</button>
    </div>

    <div class="leaderboard card" style="width:100%;max-width:640px;margin-top:12px">
      <h3 style="margin:8px 0">Meilleurs scores (local)</h3>
      <table>
        <thead><tr><th>Niveau</th><th>Score</th><th>Date</th></tr></thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </div>
  </div>
</section>

  </div>  <script>
    /* ---------- QUESTIONS (trois niveaux) ---------- */
    const POOLS = {
      beginner: [
        {q:"Qu'est-ce qu'un ordinateur ?", opts:["Une machine qui calcule et traite des informations","Un jouet","Un livre","Une voiture"], a:0},
        {q:"Que signifie 'cliquer' ?", opts:["Faire du bruit","Appuyer sur un bouton de la souris","Bouger la souris","√âteindre l'ordinateur"], a:1},
        {q:"Qu'est-ce qu'Internet ?", opts:["Un magasin","Un r√©seau qui connecte les ordinateurs du monde entier","Un jeu","Un livre"], a:1},
        {q:"Que fait un clavier ?", opts:["Il joue de la musique","Il permet d'√©crire des lettres et des chiffres","Il dessine","Il cuisine"], a:1},
        {q:"Qu'est-ce qu'un fichier ?", opts:["Un animal","Un endroit o√π on range des informations","Un jouet","Un fruit"], a:1},
        {q:"Que signifie 'sauvegarder' ?", opts:["Aider quelqu'un","Enregistrer son travail","Courir vite","Manger"], a:1},
        {q:"Qu'est-ce qu'un mot de passe ?", opts:["Un mot magique","Un code secret","Un jeu de mots","Une chanson"], a:1},
        {q:"Que fait un √©cran ?", opts:["Il mange","Il montre les images et les textes","Il vole","Il nage"], a:1}
      ],

      intermediate: [
        {q:"Quelle est la diff√©rence entre 'sauvegarder' et 'synchroniser' ?", opts:["Aucune","Sauvegarder enregistre localement, synchroniser met √† jour sur plusieurs appareils","Synchroniser supprime les donn√©es","Sauvegarder partage automatiquement"], a:1},
        {q:"Que signifie 'navigateur' ?", opts:["Un type de souris","Un logiciel pour consulter Internet","Une cl√© USB","Un antivirus"], a:1},
        {q:"Que fait un antivirus ?", opts:["Ralentit l'ordinateur","Prot√®ge contre les logiciels malveillants","Supprime les photos","D√©sinstalle des programmes"], a:1},
        {q:"Qu'est-ce qu'un cookie (informatique) ?", opts:["Un biscuit","Un petit fichier stock√© par un site web","Un virus","Un composant mat√©riel"], a:1},
        {q:"Quel format est utilis√© pour une image compress√©e sans perte ?", opts:["JPEG","PNG","MP3","EXE"], a:1},
        {q:"Que fait la touche 'Ctrl + C' ?", opts:["Fermer la fen√™tre","Copier la s√©lection","Coller","Imprimer"], a:1},
        {q:"Qu'est-ce qu'un r√©seau Wi‚ÄëFi ?", opts:["Une carte m√®re","Un r√©seau sans fil","Un c√¢ble","Un logiciel"], a:1},
        {q:"Quel √©l√©ment est un p√©riph√©rique de stockage ?", opts:["√âcran","Souris","Cl√© USB","Haut-parleur"], a:2}
      ],

      expert: [
        {q:"Qu'est-ce qu'un 'pare-feu' (firewall) ?", opts:["Un mur physique","Un dispositif r√©seau filtrant le trafic","Un type de virus","Un navigateur"], a:1},
        {q:"Que signifie 'open source' ?", opts:["Payant","Code source accessible et modifiable","Priv√©","Incompatible"], a:1},
        {q:"Qu'est-ce qu'un 'phishing' ?", opts:["Une attaque de p√™che","Une tentative d'obtenir des informations en se faisant passer pour quelqu'un","Un protocole r√©seau","Un langage de programmation"], a:1},
        {q:"Que fait une sauvegarde incr√©mentale ?", opts:["Sauvegarde tout √† z√©ro","Sauvegarde seulement les changements depuis la derni√®re sauvegarde","Supprime les sauvegardes","Crypte automatiquement"], a:1},
        {q:"Quel protocole utilise le web s√©curis√© (HTTPS) ?", opts:["FTP","HTTP sur TLS/SSL","SMTP","POP3"], a:1},
        {q:"Que signifie 'latence' en r√©seau ?", opts:["Taille d'un fichier","D√©lai de transmission des paquets","Vitesse du processeur","Capacit√© du disque"], a:1},
        {q:"Quel composant g√®re l'ex√©cution des programmes ?", opts:["RAM","Carte graphique","Processeur (CPU)","Disque dur"], a:2},
        {q:"Qu'est-ce qu'une adresse IP ?", opts:["Un identifiant unique d'un appareil sur un r√©seau","Un mot de passe","Un logiciel","Un r√©seau"], a:0}
      ]
    };

    /* ---------- UTIL & STATE ---------- */
    let state = {level:'beginner',pool:[],index:0,score:0,total:8,answered:false};

    // UI refs
    const WELCOME=document.getElementById('welcome');
    const GAME=document.getElementById('game');
    const FINAL=document.getElementById('final');
    const startBtn=document.getElementById('start-btn');
    const howBtn=document.getElementById('how-btn');
    const levelBtns=document.querySelectorAll('.level-btn');
    const qTxt=document.getElementById('question-text');
    const optsDiv=document.getElementById('options');
    const scoreEl=document.getElementById('score');
    const qNum=document.getElementById('qnum');
    const totalEl=document.getElementById('total');
    const bar=document.getElementById('bar');
    const nextBtn=document.getElementById('next');
    const quitBtn=document.getElementById('quit');
    const currentLevelEl=document.getElementById('current-level');
    const feedback=document.getElementById('feedback');

    // final
    const finalScore=document.getElementById('final-score');
    const finalTotal=document.getElementById('final-total');
    const finalTitle=document.getElementById('final-title');
    const finalMsg=document.getElementById('final-msg');
    const finalEmoji=document.getElementById('final-emoji');
    const replayBtn=document.getElementById('replay');
    const toMenuBtn=document.getElementById('to-menu');
    const lbBody=document.getElementById('leaderboard-body');

    // stats in welcome
    const bestBegin=document.getElementById('best-beginner');
    const bestInter=document.getElementById('best-inter');
    const bestExpert=document.getElementById('best-expert');

    /* ---------- AUDIO: WebAudio simple tones ---------- */
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function tone(freq,duration=0.12){
      try{
        const o = audioCtx.createOscillator();
        const g = audioCtx.createGain();
        o.type='sine';o.frequency.value=freq;g.gain.value=0.08;
        o.connect(g);g.connect(audioCtx.destination);
        o.start();
        setTimeout(()=>{o.stop();}, duration*1000);
      }catch(e){/* audio bloqu√© parfois sur mobile */}
    }

    function playCorrect(){ tone(880,0.12); tone(1320,0.07); }
    function playWrong(){ tone(220,0.18); }

    /* ---------- STORAGE ---------- */
    function saveBest(level,score){
      const key='cyber_best_'+level; const prev = localStorage.getItem(key);
      if(!prev || score>parseInt(prev)) localStorage.setItem(key,String(score));
    }
    function loadBests(){
      bestBegin.textContent = localStorage.getItem('cyber_best_beginner')||'‚Äî';
      bestInter.textContent = localStorage.getItem('cyber_best_intermediate')||'‚Äî';
      bestExpert.textContent = localStorage.getItem('cyber_best_expert')||'‚Äî';
    }

    function saveToLeaderboard(level,score){
      const key='cyber_leaderboard';
      const arr = JSON.parse(localStorage.getItem(key)||'[]');
      arr.push({level,score,date:new Date().toLocaleString()});
      // keep only last 20
      localStorage.setItem(key,JSON.stringify(arr.slice(-20)));
    }
    function renderLeaderboard(){
      const arr = JSON.parse(localStorage.getItem('cyber_leaderboard')||'[]').slice().reverse();
      lbBody.innerHTML='';
      arr.forEach(r=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${r.level}</td><td>${r.score}</td><td>${r.date}</td>`; lbBody.appendChild(tr)});
    }

    /* ---------- GAME FLOW ---------- */
    function chooseLevel(l){ state.level=l; document.querySelectorAll('.level-btn').forEach(b=>b.style.outline='');
      document.querySelector(`.level-btn[data-level="${l}"]`).style.outline='3px solid rgba(79,70,229,0.18)';
    }

    // default level
    chooseLevel('beginner'); loadBests(); renderLeaderboard();

    levelBtns.forEach(b=>b.addEventListener('click',()=>{ chooseLevel(b.dataset.level); }));

    howBtn.addEventListener('click',()=>{
      alert('R√®gles : Choisis le niveau, puis r√©ponds aux questions. Un son confirme les bonnes/mauvaises r√©ponses. Ton meilleur score sera enregistr√© localement.');
    });

    startBtn.addEventListener('click',()=>{
      startGame(state.level);
    });

    function startGame(level){
      // assemble pool
      let pool = [];
      if(level==='random'){ pool = [...POOLS.beginner, ...POOLS.intermediate, ...POOLS.expert]; }
      else pool = [...POOLS[level]];

      // shuffle
      pool = pool.sort(()=>Math.random()-0.5).slice(0,8);
      state.pool=pool; state.index=0; state.score=0; state.total=pool.length; state.answered=false; state.level=level==='random'? 'Al√©atoire' : level;

      // UI
      WELCOME.style.display='none'; GAME.style.display='block'; FINAL.style.display='none';
      scoreEl.textContent='0'; currentLevelEl.textContent = capitalize(state.level);
      totalEl.textContent=state.total; qNum.textContent='0'; updateProgress(); renderQuestion();
    }

    function capitalize(s){ if(!s) return s; return s.charAt(0).toUpperCase()+s.slice(1); }

    function renderQuestion(){
      const idx = state.index; const item = state.pool[idx];
      qTxt.textContent = item.q; optsDiv.innerHTML=''; feedback.style.display='none'; nextBtn.style.display='none';
      qNum.textContent = idx+1; totalEl.textContent = state.total;

      item.opts.forEach((o,i)=>{
        const b = document.createElement('div'); b.className='opt'; b.textContent=o; b.tabIndex=0;
        b.onclick = ()=>select(i); b.onkeyup = (e)=>{ if(e.key==='Enter') select(i); };
        optsDiv.appendChild(b);
      });
      updateProgress();
    }

    function select(i){ if(state.answered) return; state.answered=true; const item=state.pool[state.index];
      const buttons = Array.from(document.querySelectorAll('.opt'));
      buttons.forEach((btn,idx)=>{ btn.classList.add('disabled'); if(idx===item.a) btn.classList.add('correct'); if(idx===i && i!==item.a) btn.classList.add('incorrect'); });

      if(i===item.a){ state.score++; scoreEl.textContent=state.score; feedback.className='feedback fb-correct'; feedback.textContent='Bonne r√©ponse !'; playCorrect(); }
      else{ feedback.className='feedback fb-wrong'; feedback.textContent=`Mauvaise r√©ponse ‚Äî la bonne r√©ponse √©tait : "${item.opts[item.a]}".`; playWrong(); }
      feedback.style.display='block'; nextBtn.style.display='inline-block';
    }

    nextBtn.addEventListener('click',()=>{
      state.index++;
      state.answered=false;
      if(state.index>=state.total) finishGame(); else renderQuestion();
    });

    quitBtn.addEventListener('click',()=>{ if(confirm('Quitter le quiz et retourner au menu ?')){ GAME.style.display='none'; WELCOME.style.display='block'; loadBests(); renderLeaderboard(); } });

    function updateProgress(){ const pct = Math.round((state.index/state.total)*100)||0; bar.style.width = pct+'%'; }

    function finishGame(){
      GAME.style.display='none'; FINAL.style.display='block';
      finalScore.textContent = state.score; finalTotal.textContent = state.total;
      let title='Bravo !'; let msg='Tu as termin√© le quiz.'; let emoji='üéâ';
      if(state.score>= Math.ceil(state.total*0.85)) { title='Incroyable ‚Äî Expert !'; emoji='üèÜ'; }
      else if(state.score>= Math.ceil(state.total*0.6)) { title='Bien jou√© !'; emoji='üëè'; }
      else { title='Continue ‚Äî tu progresses !'; emoji='üí™'; }
      finalTitle.textContent=title; finalMsg.textContent=msg; finalEmoji.textContent=emoji;

      // save bests if applicable
      const lvlKey = (state.level||'beginner').toLowerCase();
      if(['beginner','intermediate','expert'].includes(lvlKey)) saveBest(lvlKey,state.score);
      saveToLeaderboard(state.level, state.score);
      loadBests(); renderLeaderboard();
    }

    replayBtn.addEventListener('click',()=>{ startGame(state.level==='Al√©atoire'? 'random' : state.level); });
    toMenuBtn.addEventListener('click',()=>{ FINAL.style.display='none'; WELCOME.style.display='block'; loadBests(); renderLeaderboard(); });

    // small helpers: allow keyboard navigation for options
    document.addEventListener('keydown',(e)=>{
      if(GAME.style.display==='block' && !state.answered){
        const opts = document.querySelectorAll('.opt'); if(!opts.length) return;
        if(e.key>='1' && e.key<='9'){ const idx = parseInt(e.key)-1; if(idx<opts.length) opts[idx].click(); }
      }
    });

    // initial UI
    loadBests(); renderLeaderboard();
  </script></body>
  </html>
